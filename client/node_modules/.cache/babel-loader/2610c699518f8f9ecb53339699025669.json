{"ast":null,"code":"var _jsxFileName = \"/Users/lukemason/Desktop/Folders/SeniorDesign/Boeing360React/client/src/pages/LiveMap.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport L from 'leaflet';\nimport { MapContainer, TileLayer, useMap } from 'react-leaflet';\nimport { Col, Row, Container } from 'react-bootstrap';\nimport POITable from '../components/PoiTable';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport '../styles/LiveMap.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar lat = 47.667477;\nvar long = -117.409321;\nconst radius = 200;\nvar markers = {};\nvar circle;\nvar map;\nexport default function LiveMap() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const pois = useSelector(state => state.pois);\n  var interval; // Slider value state\n\n  const [sliderValue, setSliderValue] = useState(240);\n\n  function restartSim() {\n    clearInterval(interval);\n    long = -117.409321;\n    runSim();\n  }\n\n  function runSim() {\n    interval = setInterval(update, 1000);\n  }\n\n  function update() {\n    if (long > -117.396437) {\n      clearInterval(interval);\n      return;\n    }\n\n    long += 0.00035;\n\n    if (map.hasLayer(circle)) {\n      circle.remove();\n    }\n\n    circle = L.circle([lat, long], {\n      color: 'red',\n      radius: sliderValue\n    }).addTo(map);\n\n    for (var i = 0; i < pois.length; i++) {\n      var poi = pois[i];\n      var dist = map.distance(poi.latlng, circle.getLatLng());\n      var inSide = dist < circle.getRadius();\n\n      if (!inSide) {\n        markers[poi.id].remove(); // var row = document.getElementById(poi.id);\n        // row.style.display = 'none';\n      } else {\n        markers[poi.id].addTo(map); // var row = document.getElementById(poi.id);\n        // row.style.display = '';\n      }\n    }\n\n    console.log('Update');\n  }\n\n  function MyComponent() {\n    _s();\n\n    map = useMap();\n\n    for (var i = 0; i < pois.length; i++) {\n      var poi = pois[i];\n      markers[poi.id] = L.marker(poi.latlng).bindPopup(poi.name);\n    }\n\n    return null;\n  }\n\n  _s(MyComponent, \"GnVpWt7g5PAqfxty/oxCh93AkJE=\", false, function () {\n    return [useMap];\n  });\n\n  function valuetext(value) {\n    return `${value} meters`;\n  }\n\n  const handleSliderChange = (event, newValue) => {\n    setSliderValue(newValue);\n    event.preventDefault();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"live-map-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: \"Live Map\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"font\", {\n              size: \"+3\",\n              children: \"Dynamic POI Table\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), \" \", /*#__PURE__*/_jsxDEV(POITable, {\n            pois: pois\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 59\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"font\", {\n                size: \"+3\",\n                children: \"Live Stream\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 22\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 14\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"mapid\",\n            style: {\n              marginTop: '14rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(MapContainer, {\n              center: [lat, long],\n              zoom: 14,\n              children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n                attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n                url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MyComponent, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              marginTop: '0rem'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"Button\",\n              className: \"mapControls\",\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                className: \"simBtn1\",\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: restartSim,\n                children: \"Run Sim\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  marginTop: '1rem'\n                },\n                children: [\"Search Radius: \", sliderValue, \" meters\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Slider, {\n                defaultValue: 240,\n                getAriaValueText: valuetext,\n                \"aria-labelledby\": \"discrete-slider-small-steps\",\n                step: 20,\n                marks: true,\n                min: 200,\n                max: 600,\n                valueLabelDisplay: \"auto\",\n                style: {\n                  marginTop: '2rem'\n                },\n                value: typeof sliderValue === 'number' ? sliderValue : 0,\n                onChange: handleSliderChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s2(LiveMap, \"avwnD/3eRe/XhsUUnWn70fmoXNw=\", false, function () {\n  return [useSelector];\n});\n\n_c = LiveMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"LiveMap\");","map":{"version":3,"sources":["/Users/lukemason/Desktop/Folders/SeniorDesign/Boeing360React/client/src/pages/LiveMap.js"],"names":["React","useState","useSelector","L","MapContainer","TileLayer","useMap","Col","Row","Container","POITable","Button","Slider","lat","long","radius","markers","circle","map","LiveMap","pois","state","interval","sliderValue","setSliderValue","restartSim","clearInterval","runSim","setInterval","update","hasLayer","remove","color","addTo","i","length","poi","dist","distance","latlng","getLatLng","inSide","getRadius","id","console","log","MyComponent","marker","bindPopup","name","valuetext","value","handleSliderChange","event","newValue","preventDefault","textAlign","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport L from 'leaflet';\nimport { MapContainer, TileLayer, useMap } from 'react-leaflet';\nimport { Col, Row, Container } from 'react-bootstrap';\nimport POITable from '../components/PoiTable';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport '../styles/LiveMap.css';\n\nvar lat = 47.667477;\nvar long = -117.409321;\nconst radius = 200;\nvar markers = {};\nvar circle;\nvar map;\n\nexport default function LiveMap() {\n  const pois = useSelector(state => state.pois);\n  var interval;\n\n  // Slider value state\n  const [sliderValue, setSliderValue] = useState(240);\n\n  function restartSim() {\n    clearInterval(interval);\n    long = -117.409321;\n    runSim();\n  }\n\n  function runSim() {\n    interval = setInterval(update, 1000);\n  }\n\n  function update() {\n    if (long > -117.396437) {\n      clearInterval(interval);\n      return;\n    }\n    long += 0.00035;\n    if (map.hasLayer(circle)) {\n      circle.remove();\n    }\n    circle = L.circle([lat, long], {\n      color: 'red',\n      radius: sliderValue,\n    }).addTo(map);\n    for (var i = 0; i < pois.length; i++) {\n      var poi = pois[i];\n      var dist = map.distance(poi.latlng, circle.getLatLng());\n      var inSide = dist < circle.getRadius();\n      if (!inSide) {\n        markers[poi.id].remove();\n        // var row = document.getElementById(poi.id);\n        // row.style.display = 'none';\n      } else {\n        markers[poi.id].addTo(map);\n        // var row = document.getElementById(poi.id);\n        // row.style.display = '';\n      }\n    }\n    console.log('Update');\n  }\n\n  function MyComponent() {\n    map = useMap();\n    for (var i = 0; i < pois.length; i++) {\n      var poi = pois[i];\n      markers[poi.id] = L.marker(poi.latlng).bindPopup(poi.name);\n    }\n    return null;\n  }\n\n  function valuetext(value) {\n    return `${value} meters`;\n  }\n\n  const handleSliderChange = (event, newValue) => {\n    setSliderValue(newValue);\n    event.preventDefault();\n  };\n\n  return (\n    <>\n      <Container className='live-map-container'>\n      <h1 style={{ textAlign: 'center' }}>Live Map</h1>\n        <Row>\n          <Col>\n          <p><font size=\"+3\">Dynamic POI Table</font></p> <POITable pois={pois} />\n          </Col>\n          <Col>\n          <p><center><font size=\"+3\">Live Stream</font></center></p>\n            <div id='mapid' style={{ marginTop: '14rem' }}>\n              <MapContainer center={[lat, long]} zoom={14}>\n                <TileLayer\n                  attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                  url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png'\n                />\n                <MyComponent />\n              </MapContainer>\n            </div>\n          <Row style={{ marginTop: '0rem' }}>\n            <div id='Button' className='mapControls'>\n              <Button\n                className='simBtn1'\n                variant='contained'\n                color='primary'\n                onClick={restartSim}\n              >\n                Run Sim\n              </Button>\n\n              <p style={{ marginTop: '1rem' }}>Search Radius: {sliderValue} meters</p>\n\n              <Slider\n                defaultValue={240}\n                getAriaValueText={valuetext}\n                aria-labelledby='discrete-slider-small-steps'\n                step={20}\n                marks\n                min={200}\n                max={600}\n                valueLabelDisplay='auto'\n                style={{ marginTop: '2rem' }}\n                value={typeof sliderValue === 'number' ? sliderValue : 0}\n                onChange={handleSliderChange}\n              />\n            </div>\n          </Row>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}